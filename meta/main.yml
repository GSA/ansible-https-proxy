galaxy_info:
  author: your name
  description: your description
  company: your company (optional)

  license: CC0

  min_ansible_version: 1.2

  # Optionally specify the branch Galaxy will use when accessing the GitHub
  # repo for this role. During role install, if no tags are available,
  # Galaxy will use this branch. During import Galaxy will access files on
  # this branch. If travis integration is cofigured, only notification for this
  # branch will be accepted. Otherwise, in all cases, the repo's default branch
  # (usually master) will be used.
  #github_branch:

  #
  # Below are all platforms currently available. Just uncomment
  # the ones that apply to your role. If you don't see your
  # platform on this list, let us know and we'll get it added!
  #
  #platforms:

  galaxy_tags: []
    # List tags for your role here, one per line. A tag is
    # a keyword that describes and categorizes the role.
    # Users find roles by searching for tags. Be sure to
    # remove the '[]' above if you add tags to this list.
    #
    # NOTE: A tag is limited to a single word comprised of
    # alphanumeric characters. Maximum 20 tags per role.

dependencies:

  - role: geerlingguy.repo-epel

  - role: geerlingguy.nginx
    nginx_remove_default_vhost: true
    nginx_server_tokens: "off"
    # use EPEL version
    nginx_yum_repo_enabled: false
    nginx_upstreams:
      - name: http_upstream
        servers:
          - "{{ upstream_origin }} fail_timeout=0"

  - role: jdauphant.ssl-certs
    # need to specify both here and in `defaults/main.yml`, due to https://github.com/ansible/ansible/issues/17678
    ssl_certs_common_name: "{{ external_hostname }}"
    # match geerlingguy.nginx
    ssl_certs_path_owner: "{{ nginx_user }}"
    ssl_certs_path_group: "{{ nginx_user }}"
